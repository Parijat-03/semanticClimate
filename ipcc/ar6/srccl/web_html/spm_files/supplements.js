(function($){function supplements(item,options){this.item=$(item);var defaults={elements:{wrap:null,tabs:{}},hrefs:[],is_open:false,logging:false};this.options=$.extend(true,defaults,options);this.init();}
supplements.prototype={init:function(){var plugin_instance=this;var plugin_item=plugin_instance.item;var plugin_settings=plugin_instance.options;var plugin_elements=plugin_settings.elements;if(plugin_settings.logging==true){console.log('supplements init');}
plugin_item.addClass('active');plugin_item.find('.supplement-content').each(function(){var tab_ID=$(this).attr('id');plugin_settings.hrefs.push('#'+tab_ID);$('a[href="#'+tab_ID+'"]').addClass('supplement-link');plugin_elements.tabs[tab_ID]=$(this);});plugin_elements.close_btn=$('<a href="#" class="close-btn"><i class="icon icon-close"></i></a>').prependTo(plugin_item);plugin_elements.close_btn.click(function(e){e.preventDefault();plugin_instance.hide_supplement();});$('.supplement-link').click(function(e){e.preventDefault();var link_href=$(this).attr('href').replace('#','');plugin_instance.show_supplement({tab_ID:link_href});});console.log('init done');},show_supplement:function(fn_options){var plugin_instance=this;var plugin_item=plugin_instance.item;var plugin_settings=plugin_instance.options;var plugin_elements=plugin_settings.elements;var defaults={tab_ID:null};var settings=$.extend(true,defaults,fn_options);if(!plugin_elements.tabs[settings.tab_ID].hasClass('supplement-active')){if(!plugin_item.hasClass('supplement-open')){plugin_elements.tabs[settings.tab_ID].show().addClass('supplement-active');plugin_item.addClass('supplement-open').slideDown(500,function(){$(document).smooth_scroll({id:'#'+settings.tab_ID,speed:1000,ease:'easeInOutQuart'});});}else{plugin_item.find('.supplement-active').slideUp(250,function(){$(this).removeClass('supplement-active');plugin_elements.tabs[settings.tab_ID].addClass('supplement-active').slideDown(500,function(){$(document).smooth_scroll({id:'#'+settings.tab_ID,speed:1000,ease:'easeInOutQuart'});});});}}else{$(document).smooth_scroll({id:'#'+settings.tab_ID,speed:1000,ease:'easeInOutQuart'});}},hide_supplement:function(fn_options){var plugin_instance=this;var plugin_item=plugin_instance.item;var plugin_settings=plugin_instance.options;var plugin_elements=plugin_settings.elements;var defaults={};var settings=$.extend(true,defaults,fn_options);plugin_item.find('.supplement-active').removeClass('supplement-active').slideUp();plugin_item.slideUp().removeClass('supplement-open');}}
$.fn.supplements=function(opt){var args=Array.prototype.slice.call(arguments,1);return this.each(function(){var item=$(this);var instance=item.data('supplements');if(!instance){item.data('supplements',new supplements(this,opt));}else{if(typeof opt==='string'){instance[opt].apply(instance,args);}}});}}(jQuery));